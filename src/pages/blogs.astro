---
import BaseLayout from "../layouts/BaseLayout.astro";
import CardBlog from "../components/CardBlog.astro";

const allPosts = await Astro.glob("./blogs/*.md")
const pageTitle = "Blog";

// type Post = {
// 	title: string;
// 		pubDate: number;
// 		description: string;
// 		author: string;
// 		status: string;
// };

// const res = await fetch("https://opensheet.elk.sh/1-XxaQVrv8CO-SN4Ac1KLRGjPXc4-IIOAHG_W2CMd750/blog");
// const OpenPost:Post[] = await res.json();
// const OpenPost = await res.json();
// console.log(OpenPost);
// console.log(allPosts);

---
<BaseLayout pageTitle={pageTitle}>
	<!-- Blog Section -->
	<div class="container min-h-screen my-12 mx-auto px-4 md:px-12">
		<h1 class="text-center text-4xl text-secondary font-black">{pageTitle} Page</h1>
		<div class="flex flex-wrap mt-5 -mx-1 lg:-mx-4">
			{allPosts.map((post)=>
				<CardBlog transition:name="card" title={post.frontmatter.title} author={post.frontmatter.author} url={post.url} />
			)}
		</div>
	</div>

</BaseLayout>
